{"id":"pdit-07r","title":"changing text in a line groups should clear its execution state","description":"","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-11T08:15:11.119327+01:00","updated_at":"2025-12-11T08:15:14.641143+01:00"}
{"id":"pdit-0j4","title":"Add diff package dependency","description":"Add 'diff' (^8.0.2) to dependencies and '@types/diff' (^7.0.2) to devDependencies in web/package.json. Run npm install to update package-lock.json.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T22:06:34.551453+01:00","updated_at":"2025-12-08T22:18:06.738887+01:00","closed_at":"2025-12-08T22:18:06.738887+01:00","dependencies":[{"issue_id":"pdit-0j4","depends_on_id":"pdit-ci9","type":"blocks","created_at":"2025-12-08T22:06:54.699866+01:00","created_by":"daemon"}]}
{"id":"pdit-69k","title":"Add green background decoration for changed lines","description":"CodeMirror line decoration showing green background for changed-from-disk lines","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T13:16:50.840996+01:00","updated_at":"2025-12-05T13:31:18.148514+01:00","closed_at":"2025-12-05T13:31:18.148514+01:00","dependencies":[{"issue_id":"pdit-69k","depends_on_id":"pdit-a9m","type":"blocks","created_at":"2025-12-05T13:17:00.311726+01:00","created_by":"daemon"},{"issue_id":"pdit-69k","depends_on_id":"pdit-7vh","type":"blocks","created_at":"2025-12-05T13:17:00.674005+01:00","created_by":"daemon"}]}
{"id":"pdit-6jb","title":"CORS settings should match the picked port","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-09T08:14:49.942075+01:00","updated_at":"2025-12-09T08:18:26.551488+01:00","closed_at":"2025-12-09T08:18:26.551488+01:00"}
{"id":"pdit-7ap","title":"Add @codemirror/merge dependency","description":"Install @codemirror/merge package for computing diffs between old and new document content","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T13:16:50.328693+01:00","updated_at":"2025-12-05T13:21:46.846715+01:00","closed_at":"2025-12-05T13:21:46.846715+01:00","dependencies":[{"issue_id":"pdit-7ap","depends_on_id":"pdit-a9m","type":"blocks","created_at":"2025-12-05T13:17:00.179623+01:00","created_by":"daemon"}]}
{"id":"pdit-7om","title":"Implement diff-based line group preservation","description":"On file change: compute diff, preserve line groups for unchanged lines, adjust line numbers for shifts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-05T13:16:50.488268+01:00","updated_at":"2025-12-05T13:28:52.315176+01:00","closed_at":"2025-12-05T13:28:52.315176+01:00","dependencies":[{"issue_id":"pdit-7om","depends_on_id":"pdit-a9m","type":"blocks","created_at":"2025-12-05T13:17:00.223989+01:00","created_by":"daemon"},{"issue_id":"pdit-7om","depends_on_id":"pdit-7ap","type":"blocks","created_at":"2025-12-05T13:17:00.539326+01:00","created_by":"daemon"}]}
{"id":"pdit-7vh","title":"Track changed-from-disk lines state","description":"Add Set\u003cnumber\u003e to track which lines have green background from disk changes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T13:16:50.678969+01:00","updated_at":"2025-12-05T13:31:18.143514+01:00","closed_at":"2025-12-05T13:31:18.143514+01:00","dependencies":[{"issue_id":"pdit-7vh","depends_on_id":"pdit-a9m","type":"blocks","created_at":"2025-12-05T13:17:00.268643+01:00","created_by":"daemon"},{"issue_id":"pdit-7vh","depends_on_id":"pdit-7om","type":"blocks","created_at":"2025-12-05T13:17:52.367635+01:00","created_by":"daemon"}]}
{"id":"pdit-9pn","title":"Store autorun and reader mode as per-script settings in local JSON file","description":"Persist autorun and reader mode settings per-script in a local JSON file so settings are retained across reloads/loads","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-11T11:02:14.235367+01:00","updated_at":"2025-12-11T11:02:14.235367+01:00"}
{"id":"pdit-a9m","title":"File watcher: partial updates with visual feedback","description":"Preserve execution outputs when file changes externally. Use CodeMirror merge to compute diff, keep outputs for unchanged lines, and show green background on changed lines. Closes GitHub issue #26.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-05T13:16:39.667942+01:00","updated_at":"2025-12-05T13:32:05.487048+01:00","closed_at":"2025-12-05T13:32:05.487048+01:00"}
{"id":"pdit-alq","title":"Frontend should use same port as it is being served from, unless in dev mode","description":"In web/src/execution-python.ts (line 20), the Python server URL is hardcoded to 'http://127.0.0.1:8888' as a fallback, with an optional query parameter override. This is problematic: when the frontend is served from a different port (e.g., 5173 during dev, or a custom production port), it still tries to connect to 8888. Should detect the port the frontend is being served from (window.location.port) and use that by default, unless in dev mode where the query param override allows connecting to a different dev server.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T10:47:06.26802+01:00","updated_at":"2025-12-09T12:05:07.41678+01:00","closed_at":"2025-12-09T12:05:07.41678+01:00"}
{"id":"pdit-ci9","title":"Diff-based line group preservation","description":"Preserve execution outputs when file changes externally. Instead of clearing all line groups, compute diff between old and new content, map line numbers, and keep groups whose lines still exist at adjusted positions. No visual indication (green background) for changed lines.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-08T22:06:15.637375+01:00","updated_at":"2025-12-08T22:20:43.355053+01:00","closed_at":"2025-12-08T22:20:43.355053+01:00"}
{"id":"pdit-d7f","title":"Remove background color from executing style","description":"Update CSS so executing line groups no longer have background color (avoid conflict with green)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T13:16:51.279646+01:00","updated_at":"2025-12-05T13:32:05.445854+01:00","closed_at":"2025-12-05T13:32:05.445854+01:00","dependencies":[{"issue_id":"pdit-d7f","depends_on_id":"pdit-a9m","type":"blocks","created_at":"2025-12-05T13:17:00.398145+01:00","created_by":"daemon"}]}
{"id":"pdit-dvq","title":"enabling autorun should trigger initial run","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-11T10:09:37.945665+01:00","updated_at":"2025-12-11T10:09:37.945665+01:00"}
{"id":"pdit-dwd","title":"CLI: Auto-create Python file if it doesn't exist when run","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-05T10:52:10.956988+01:00","updated_at":"2025-12-05T10:52:10.956988+01:00"}
{"id":"pdit-dzb","title":"Add tab/shift-tab to indent/dedent in editor","description":"Implement keyboard shortcuts to indent/dedent code:\n- Tab: indent selected lines or current line\n- Shift-Tab: dedent selected lines or current line","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-11T10:49:27.381706+01:00","updated_at":"2025-12-11T10:49:27.381706+01:00"}
{"id":"pdit-ghv","title":"Clear green on user edit","description":"When user edits a line that has green background, remove it from the changed set","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T13:16:51.06457+01:00","updated_at":"2025-12-05T13:31:18.151013+01:00","closed_at":"2025-12-05T13:31:18.151013+01:00","dependencies":[{"issue_id":"pdit-ghv","depends_on_id":"pdit-a9m","type":"blocks","created_at":"2025-12-05T13:17:00.355128+01:00","created_by":"daemon"},{"issue_id":"pdit-ghv","depends_on_id":"pdit-7vh","type":"blocks","created_at":"2025-12-05T13:17:00.719881+01:00","created_by":"daemon"}]}
{"id":"pdit-hdr","title":"Implement _repr_html_() support for rich HTML display","description":"Support Jupyter's _repr_html_() standard for rich HTML display of objects. This enables libraries like pandas Styler, great_tables GT, Plotly, and ITables to render interactive visualizations.\n\nGitHub Issues: #32, #56","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T12:50:04.712526+01:00","updated_at":"2025-12-11T12:52:07.283349+01:00","closed_at":"2025-12-11T12:52:07.283349+01:00"}
{"id":"pdit-k5l","title":"Integrate diff logic into App.tsx handleFileChange","description":"Update App.tsx to use diff-based line group adjustment:\n\n1. In web/src/App.tsx:\n   - Import adjustLineGroupsForDiff from \"./diff-line-groups\"\n   - Add ref to track current lineGroups (avoids stale closure):\n     const lineGroupsRef = useRef\u003cLineGroup[]\u003e([]);\n     useEffect(() =\u003e { lineGroupsRef.current = lineGroups; }, [lineGroups]);\n   - Modify handleFileChange:\n     - When content differs and no unsaved changes:\n     - Call adjustLineGroupsForDiff(doc?.toString() ?? \"\", newContent, lineGroupsRef.current)\n     - Pass adjusted groups to applyExecutionUpdate instead of []\n\nBefore: applyExecutionUpdate({ doc: newContent, lineGroups: [] })\nAfter: applyExecutionUpdate({ doc: newContent, lineGroups: adjustedGroups })\n\nNote: No changes to useResults() needed - the ref lives in App.tsx where it is used.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T22:06:49.221635+01:00","updated_at":"2025-12-08T22:20:43.221408+01:00","closed_at":"2025-12-08T22:20:43.221408+01:00","dependencies":[{"issue_id":"pdit-k5l","depends_on_id":"pdit-qsh","type":"blocks","created_at":"2025-12-08T22:06:54.640957+01:00","created_by":"daemon"},{"issue_id":"pdit-k5l","depends_on_id":"pdit-ci9","type":"blocks","created_at":"2025-12-08T22:06:54.816373+01:00","created_by":"daemon"}]}
{"id":"pdit-le9","title":"New lines should not have green border, only green background","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T14:07:16.140076+01:00","updated_at":"2025-12-09T12:05:07.413767+01:00","closed_at":"2025-12-09T12:05:07.413767+01:00"}
{"id":"pdit-pcm","title":"Placeholder todo for testing","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-11T10:08:50.765126+01:00","updated_at":"2025-12-11T10:08:50.765126+01:00"}
{"id":"pdit-qsh","title":"Create diff-line-groups.ts utility","description":"Create web/src/diff-line-groups.ts with:\n\nadjustLineGroupsForDiff(oldContent: string, newContent: string, lineGroups: LineGroup[]): LineGroup[]\n  - Uses diffLines() from \"diff\" package\n  - Builds internal line mapping (old line -\u003e new line, deleted lines -\u003e -1)\n  - For each group, maps all lines in lineStart..lineEnd range\n  - Keeps group only if:\n    1. ALL lines map to valid positions (not -1)\n    2. Mapped positions are CONTIGUOUS (each +1 from previous)\n  - Returns groups with adjusted lineStart/lineEnd (min/max of mapped positions)\n\nExample of contiguity check:\n  Original group: lines 5-7\n  After insertion between 6 and 7: old 5-\u003e5, 6-\u003e6, 7-\u003e9\n  Result: group DROPPED because 5,6,9 is not contiguous\n\nEdge case - deletion inside group:\n  Original group: lines 5-7\n  Line 6 deleted: old 5-\u003e5, old 6-\u003e-1, old 7-\u003e6\n  Result: group DROPPED because line 6 maps to -1 (deleted)\n\nKey: Only export adjustLineGroupsForDiff - line mapping is internal.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T22:06:34.741334+01:00","updated_at":"2025-12-08T22:19:43.360794+01:00","closed_at":"2025-12-08T22:19:43.360794+01:00","dependencies":[{"issue_id":"pdit-qsh","depends_on_id":"pdit-0j4","type":"blocks","created_at":"2025-12-08T22:06:54.576839+01:00","created_by":"daemon"},{"issue_id":"pdit-qsh","depends_on_id":"pdit-ci9","type":"blocks","created_at":"2025-12-08T22:06:54.757533+01:00","created_by":"daemon"}]}
{"id":"pdit-vdz","title":"Add fuzzy finder to PathEditor (like VS Code Cmd+P)","description":"Implement a fuzzy finder for selecting Python files, similar to VS Code's Cmd+P functionality. Requires backend endpoint to list .py files and frontend fuzzy search UI.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T11:36:40.856307+01:00","updated_at":"2025-12-11T11:38:30.083458+01:00","closed_at":"2025-12-11T11:38:30.083458+01:00"}
{"id":"pdit-xfu","title":"__file__ does not work, but it should","description":"When code is executed in pdit, __file__ is not available in the namespace. Currently, code is compiled with filename '\u003cpdit\u003e' (line 279-280, 286-287 in executor.py), which doesn't match any actual file. This means user code that tries to use __file__ (e.g., to get the script directory) will either get '\u003cpdit\u003e' or a NameError. Should set __file__ to the actual script path in the namespace when executing.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-05T10:46:03.808328+01:00","updated_at":"2025-12-10T14:17:53.304677+01:00"}
